{"ast":null,"code":"var _jsxFileName = \"D:\\\\comment\\\\PAF_Y3S2-main\\\\react-frontend\\\\src\\\\components\\\\UpdatePostComponent.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport PostService from '../services/PostService';\nimport { useParams, useNavigate } from 'react-router-dom'; // Import useNavigate\n\nconst UpdatePostComponent = () => {\n  const [id, setId] = useState('');\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const {\n    postId\n  } = useParams(); // Get the post ID from the URL\n  const navigate = useNavigate(); // Get the navigate function\n\n  useEffect(() => {\n    PostService.getPostById(postId).then(res => {\n      setId(res.data.id);\n      setTitle(res.data.title);\n      setContent(res.data.content);\n    }).catch(error => {\n      console.error(\"Error fetching post:\", error);\n    });\n  }, [postId]);\n  const updatePost = e => {\n    e.preventDefault();\n    const post = {\n      id,\n      title,\n      content\n    };\n    PostService.updatePost(postId, title, content).then(res => {\n      navigate('/posts'); // Use navigate to go back to the list\n    }).catch(error => {\n      console.error(\"Error updating post:\", error);\n    });\n  };\n  const cancel = () => {\n    navigate('/posts'); // Use navigate to go back to the list\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, \"Update Post\"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \"Title:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: title,\n    onChange: e => setTitle(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, \"Content:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    value: content,\n    onChange: e => setContent(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: updatePost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: cancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Cancel\")));\n};\nexport default UpdatePostComponent;","map":{"version":3,"names":["React","useState","useEffect","PostService","useParams","useNavigate","UpdatePostComponent","id","setId","title","setTitle","content","setContent","postId","navigate","getPostById","then","res","data","catch","error","console","updatePost","e","preventDefault","post","cancel","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","onClick"],"sources":["D:/comment/PAF_Y3S2-main/react-frontend/src/components/UpdatePostComponent.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PostService from '../services/PostService';\r\nimport { useParams, useNavigate } from 'react-router-dom'; // Import useNavigate\r\n\r\nconst UpdatePostComponent = () => {\r\n  const [id, setId] = useState('');\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const { postId } = useParams(); // Get the post ID from the URL\r\n  const navigate = useNavigate(); // Get the navigate function\r\n\r\n  useEffect(() => {\r\n    PostService.getPostById(postId)\r\n      .then(res => {\r\n        setId(res.data.id);\r\n        setTitle(res.data.title);\r\n        setContent(res.data.content);\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error fetching post:\", error);\r\n      });\r\n  }, [postId]);\r\n\r\n  const updatePost = (e) => {\r\n    e.preventDefault();\r\n    const post = { id, title, content };\r\n\r\n    PostService.updatePost(postId, title, content)\r\n      .then(res => {\r\n        navigate('/posts'); // Use navigate to go back to the list\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error updating post:\", error);\r\n      });\r\n  }\r\n\r\n  const cancel = () => {\r\n    navigate('/posts'); // Use navigate to go back to the list\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Update Post</h2>\r\n      <form>\r\n        <div>\r\n          <label>Title:</label>\r\n          <input type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} />\r\n        </div>\r\n        <div>\r\n          <label>Content:</label>\r\n          <textarea value={content} onChange={(e) => setContent(e.target.value)} />\r\n        </div>\r\n        <button onClick={updatePost}>Save</button>\r\n        <button onClick={cancel}>Cancel</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdatePostComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}